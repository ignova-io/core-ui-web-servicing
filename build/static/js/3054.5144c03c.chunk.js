"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[3054],{95368:(e,t,s)=>{s.d(t,{H:()=>d});var r=s(63789),i=s(7353),n=s(34535),o=s(94496),a=s(57058),l=s(70579);function d(e){var t,s,r,n,d,u,x,p,h,m,g,b;let{sx:f,imgUrl:v,action:j,filled:y,slotProps:A,description:k,title:C="No data",...w}=e;return(0,l.jsxs)(c,{filled:y,sx:f,...w,children:[(0,l.jsx)(i.A,{component:"img",alt:"Empty content",src:null!==v&&void 0!==v?v:`${a.P.assetsDir}/assets/icons/empty/ic-content.svg`,...null===A||void 0===A?void 0:A.img,sx:[{width:1,maxWidth:160},...Array.isArray(null===A||void 0===A||null===(t=A.img)||void 0===t?void 0:t.sx)?null!==(s=null===A||void 0===A||null===(r=A.img)||void 0===r?void 0:r.sx)&&void 0!==s?s:[]:[null===A||void 0===A||null===(n=A.img)||void 0===n?void 0:n.sx]]}),C&&(0,l.jsx)(o.A,{variant:"h6",...null===A||void 0===A?void 0:A.title,sx:[{mt:1,textAlign:"center",color:"text.disabled"},...Array.isArray(null===A||void 0===A||null===(d=A.title)||void 0===d?void 0:d.sx)?null!==(u=null===A||void 0===A||null===(x=A.title)||void 0===x?void 0:x.sx)&&void 0!==u?u:[]:[null===A||void 0===A||null===(p=A.title)||void 0===p?void 0:p.sx]],children:C}),k&&(0,l.jsx)(o.A,{variant:"body2",...null===A||void 0===A?void 0:A.description,sx:[{mt:1,textAlign:"center",color:"text.disabled"},...Array.isArray(null===A||void 0===A||null===(h=A.description)||void 0===h?void 0:h.sx)?null!==(m=null===A||void 0===A||null===(g=A.description)||void 0===g?void 0:g.sx)&&void 0!==m?m:[]:[null===A||void 0===A||null===(b=A.description)||void 0===b?void 0:b.sx]],children:k}),j&&j]})}const c=(0,n.Ay)("div",{shouldForwardProp:e=>!["filled","sx"].includes(e)})((e=>{let{filled:t,theme:s}=e;return{flexGrow:1,height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:s.spacing(0,3),...t&&{borderRadius:2*s.shape.borderRadius,backgroundColor:(0,r.IG)(s.vars.palette.grey["500Channel"],.04),border:`dashed 1px ${(0,r.IG)(s.vars.palette.grey["500Channel"],.08)}`}}}))},11947:(e,t,s)=>{s.d(t,{Hv:()=>n,T7:()=>x,NJ:()=>u});var r=s(34535),i=s(70579);function n(e){let{label:t,children:s,isShow:r,sx:n,...d}=e;return r?(0,i.jsxs)(o,{sx:n,...d,children:[(0,i.jsx)(a,{children:t}),(0,i.jsx)(l,{children:s})]}):null}const o=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",overflow:"hidden",gap:t.spacing(1),padding:t.spacing(1),borderRadius:t.shape.borderRadius,border:`dashed 1px ${t.vars.palette.divider}`}})),a=(0,r.Ay)("span")((e=>{let{theme:t}=e;return{height:24,lineHeight:"24px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight}})),l=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",gap:t.spacing(1)}}));var d=s(72882),c=s(35151);const u={size:"small",variant:"soft"};function x(e){let{sx:t,onReset:s,children:r,totalResults:n,...o}=e;return(0,i.jsxs)(p,{sx:t,...o,children:[(0,i.jsxs)(h,{children:[(0,i.jsx)("strong",{children:n}),(0,i.jsx)("span",{children:" results found"})]}),(0,i.jsxs)(m,{children:[r,(0,i.jsx)(d.A,{color:"error",onClick:s,startIcon:(0,i.jsx)(c.W,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}const p=(0,r.Ay)("div")``,h=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{...t.typography.body2,marginBottom:t.spacing(1.5),"& span":{color:t.vars.palette.text.secondary}}})),m=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{flexGrow:1,display:"flex",flexWrap:"wrap",alignItems:"center",gap:t.spacing(1)}}))},57653:(e,t,s)=>{s.d(t,{Y:()=>g,x:()=>v});var r=s(63789),i=s(91706),n=s(7353),o=s(35151),a=s(80033),l=s(42993),d=s(14829),c=s(49502),u=s(57483),x=s(60519);function p(e){let{disableZoom:t,disableVideo:s,disableCaptions:r,disableSlideshow:i,disableThumbnails:n,disableFullscreen:o}=e,p=[d.A,u.A,c.A,x.A,l.A,a.A];return n&&(p=p.filter((e=>e!==x.A))),r&&(p=p.filter((e=>e!==d.A))),o&&(p=p.filter((e=>e!==u.A))),i&&(p=p.filter((e=>e!==c.A))),t&&(p=p.filter((e=>e!==a.A))),s&&(p=p.filter((e=>e!==l.A))),p}const h={root:(0,s(7445).L)("lightbox__root")};var m=s(70579);function g(e){let{slides:t,disableZoom:s,disableVideo:n,disableTotal:a,disableCaptions:l,disableSlideshow:d,disableThumbnails:c,disableFullscreen:u,onGetCurrentIndex:x,className:g,...f}=e;const v=t?t.length:0;return(0,m.jsx)(i.Ay,{slides:t,animation:{swipe:240},carousel:{finite:v<5},controller:{closeOnBackdropClick:!0},plugins:p({disableZoom:s,disableVideo:n,disableCaptions:l,disableSlideshow:d,disableThumbnails:c,disableFullscreen:u}),on:{view:e=>{let{index:t}=e;x&&x(t)}},toolbar:{buttons:[(0,m.jsx)(b,{totalItems:v,disableTotal:a},0),"close"]},render:{iconClose:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:close"}),iconZoomIn:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:zoom-in"}),iconZoomOut:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:zoom-out"}),iconSlideshowPlay:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:play"}),iconSlideshowPause:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:pause"}),iconPrev:()=>(0,m.jsx)(o.W,{width:32,icon:"carbon:chevron-left"}),iconNext:()=>(0,m.jsx)(o.W,{width:32,icon:"carbon:chevron-right"}),iconExitFullscreen:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:center-to-fit"}),iconEnterFullscreen:()=>(0,m.jsx)(o.W,{width:24,icon:"carbon:fit-to-screen"})},className:(0,r.zP)([h.root,g]),...f})}function b(e){let{totalItems:t,disableTotal:s}=e;const{currentIndex:r}=(0,i.mp)();return s?null:(0,m.jsxs)(n.A,{component:"span",className:"yarl__button",sx:{typography:"body2",alignItems:"center",display:"inline-flex",justifyContent:"center"},children:[(0,m.jsxs)("strong",{children:[" ",r+1," "]})," / ",t]})}var f=s(65043);function v(e){const[t,s]=(0,f.useState)(-1);return{selected:t,open:t>=0,onOpen:(0,f.useCallback)((t=>{const r=e.findIndex((e=>"video"===e.type?e.poster===t:e.src===t));s(r)}),[e]),onClose:(0,f.useCallback)((()=>{s(-1)}),[]),setSelected:s}}},1520:(e,t,s)=>{s.d(t,{o:()=>y});var r=s(65043),i=s(29285),n=s(54277),o=s(78256),a=s(63789),l=s(91598),d=s(24878),c=s(23988),u=s(926),x=s(34535),p=s(7445);const h={root:(0,p.L)("markdown__root"),content:{pre:(0,p.L)("markdown__content__pre"),codeInline:(0,p.L)("markdown__content__codeInline"),codeBlock:(0,p.L)("markdown__content__codeBlock"),image:(0,p.L)("markdown__content__image"),link:(0,p.L)("markdown__content__link")}},m=(0,x.Ay)(u.o)((e=>{let{theme:t}=e;return{"> * + *":{marginTop:0,marginBottom:"0.75em"},h1:{...t.typography.h1,marginTop:40,marginBottom:8},h2:{...t.typography.h2,marginTop:40,marginBottom:8},h3:{...t.typography.h3,marginTop:24,marginBottom:8},h4:{...t.typography.h4,marginTop:24,marginBottom:8},h5:{...t.typography.h5,marginTop:24,marginBottom:8},h6:{...t.typography.h6,marginTop:24,marginBottom:8},p:{...t.typography.body1,marginBottom:"1.25rem"},hr:{flexShrink:0,borderWidth:0,margin:"2em 0",msFlexNegative:0,WebkitFlexShrink:0,borderStyle:"solid",borderBottomWidth:"thin",borderColor:t.vars.palette.divider},[`& .${h.content.image}`]:{width:"100%",height:"auto",maxWidth:"100%",margin:"auto auto 1.25em"},"& ul":{listStyleType:"disc"},"& ul, & ol":{paddingLeft:16,"& > li":{lineHeight:2,"& > p":{margin:0,display:"inline-block"}}},"& blockquote":{lineHeight:1.5,fontSize:"1.5em",margin:"24px auto",position:"relative",fontFamily:"Georgia, serif",padding:t.spacing(3,3,3,8),color:t.vars.palette.text.secondary,borderLeft:`solid 8px ${(0,a.IG)(t.vars.palette.grey["500Channel"],.08)}`,[t.breakpoints.up("md")]:{width:"100%",maxWidth:640},"& p":{margin:0,fontSize:"inherit",fontFamily:"inherit"},"&::before":{left:16,top:-8,display:"block",fontSize:"3em",content:'"\\201C"',position:"absolute",color:t.vars.palette.text.disabled}},[`& .${h.content.codeInline}`]:{padding:t.spacing(.25,.5),color:t.vars.palette.text.secondary,fontSize:t.typography.body2.fontSize,borderRadius:t.shape.borderRadius/2,backgroundColor:(0,a.IG)(t.vars.palette.grey["500Channel"],.2)},[`& .${h.content.codeBlock}`]:{position:"relative","& pre":{overflowX:"auto",padding:t.spacing(3),color:t.vars.palette.common.white,borderRadius:t.shape.borderRadius,fontFamily:"'JetBrainsMono', monospace",backgroundColor:t.vars.palette.grey[900],"& code":{fontSize:t.typography.body2.fontSize},...t.applyStyles("dark",{backgroundColor:t.vars.palette.grey[800]})}},table:{width:"100%",borderCollapse:"collapse",border:`1px solid ${t.vars.palette.divider}`,"th, td":{padding:t.spacing(1),border:`1px solid ${t.vars.palette.divider}`},"tbody tr:nth-of-type(odd)":{backgroundColor:t.vars.palette.background.neutral}},input:{"&[type=checkbox]":{position:"relative",cursor:"pointer","&:before":{content:'""',top:-2,left:-2,width:17,height:17,borderRadius:3,position:"absolute",backgroundColor:t.vars.palette.grey[300],...t.applyStyles("dark",{backgroundColor:t.vars.palette.grey[700]})},"&:checked":{"&:before":{backgroundColor:t.vars.palette.primary.main},"&:after":{top:1,left:5,width:4,height:9,content:'""',position:"absolute",borderStyle:"solid",transform:"rotate(45deg)",borderWidth:"0 2px 2px 0",borderColor:t.vars.palette.common.white}}}}}}));var g=s(99346);const b=["pre","code"],f=new g.A({codeBlockStyle:"fenced",fence:"```"}),v=["a","abbr","acronym","address","applet","area","article","aside","audio","b","base","basefont","bdi","bdo","bgsound","big","blink","blockquote","body","br","button","canvas","caption","center","circle","cite","clipPath","code","col","colgroup","command","content","data","datalist","dd","defs","del","details","dfn","dialog","dir","div","dl","dt","element","ellipse","em","embed","fieldset","figcaption","figure","font","footer","foreignObject","form","frame","frameset","g","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","image","img","input","ins","isindex","kbd","keygen","label","legend","li","line","linearGradient","link","listing","main","map","mark","marquee","mask","math","menu","menuitem","meta","meter","multicol","nav","nextid","nobr","noembed","noframes","noscript","object","ol","optgroup","option","output","p","param","path","pattern","picture","plaintext","polygon","polyline","pre","progress","q","radialGradient","rb","rbc","rect","rp","rt","rtc","ruby","s","samp","script","section","select","shadow","slot","small","source","spacer","span","stop","strike","strong","style","sub","summary","sup","svg","table","tbody","td","template","text","textarea","tfoot","th","thead","time","title","tr","track","tspan","tt","u","ul","var","video","wbr","xmp"].filter((e=>!b.includes(e)));f.addRule("keep",{filter:v,replacement(e,t){const{isBlock:s,outerHTML:r}=t;return t&&s?`\n\n${r}\n\n`:r}});var j=s(70579);function y(e){let{children:t,sx:s,className:i,...n}=e;const o=(0,r.useMemo)((()=>{return function(e){return[/^#+\s/,/^(\*|-|\d+\.)\s/,/^```/,/^\|/,/^(\s*)[*+-] [^\r\n]+/,/^(\s*)\d+\. [^\r\n]+/,/!\[.*?\]\(.*?\)/,/\[.*?\]\(.*?\)/].some((t=>t.test(e)))}(`${t}`)?t:(e=`${t}`.trim(),f.turndown(e));var e}),[t]);return(0,j.jsx)(m,{children:o,components:k,rehypePlugins:A,className:(0,a.zP)([h.root,i]),sx:s,...n})}const A=[n.A,o.A,[i.A,{singleTilde:!1}]],k={img:e=>{let{...t}=e;return(0,j.jsx)(c._,{ratio:"16/9",className:h.content.image,sx:{borderRadius:2},...t})},a:e=>{let{href:t,children:s,node:r,...i}=e;const n=(0,a.i9)(t)?{target:"_blank",rel:"noopener"}:{component:d.W};return(0,j.jsx)(l.A,{...n,href:t,className:h.content.link,...i,children:s})},pre:e=>{let{children:t}=e;return(0,j.jsx)("div",{className:h.content.codeBlock,children:(0,j.jsx)("pre",{children:t})})},code(e){let{className:t,children:s,node:r,...i}=e;return/language-(\w+)/.exec(t||"")?(0,j.jsx)("code",{...i,className:t,children:s}):(0,j.jsx)("code",{...i,className:h.content.codeInline,children:s})}}},37414:(e,t,s)=>{s.d(t,{ip:()=>fe,sW:()=>Ie,Mm:()=>be,ST:()=>oe});var r=s(78038),i=s(65043),n=s(81772),o=s(7353),a=s(88911),l=s(72882),d=s(48407),c=s(24878),u=s(73705),x=s(91777),p=s(43254),h=s(35151),m=s(95368),g=s(17351),b=s(81557),f=s(76196),v=s(91598),j=s(59314),y=s(30922),A=s(94814),k=s(71716),C=s(48734),w=s(94289),D=s(23988),W=s(50031),S=s(70579);function I(e){let{tour:t,editHref:s,detailsHref:r,onDelete:i,sx:a,...l}=e;const d=(0,n.fP)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(j.A,{sx:a,...l,children:[(0,S.jsxs)(o.A,{sx:{p:1,gap:.5,display:"flex"},children:[(0,S.jsxs)(o.A,{sx:{flexGrow:1,position:"relative"},children:[(0,S.jsxs)(o.A,{sx:{top:8,left:8,zIndex:9,display:"flex",borderRadius:1,bgcolor:"grey.800",alignItems:"center",position:"absolute",p:"2px 6px 2px 4px",color:"common.white",typography:"subtitle2"},children:[!!t.priceSale&&(0,S.jsx)(o.A,{component:"span",sx:{color:"grey.500",mr:.25,textDecoration:"line-through"},children:(0,w.KZ)(t.priceSale)}),(0,w.KZ)(t.price)]}),(0,S.jsxs)(o.A,{sx:{top:8,right:8,zIndex:9,display:"flex",borderRadius:1,alignItems:"center",position:"absolute",p:"2px 6px 2px 4px",typography:"subtitle2",bgcolor:"warning.lighter"},children:[(0,S.jsx)(h.W,{icon:"eva:star-fill",sx:{color:"warning.main",mr:.25}})," ",t.ratingNumber]}),(0,S.jsx)(D._,{alt:t.images[0],src:t.images[0],sx:{width:1,height:164,borderRadius:1}})]}),(0,S.jsxs)(o.A,{sx:{gap:.5,display:"flex",flexDirection:"column"},children:[(0,S.jsx)(D._,{alt:t.images[1],src:t.images[1],ratio:"1/1",sx:{borderRadius:1,width:80,height:80}}),(0,S.jsx)(D._,{alt:t.images[2],src:t.images[2],ratio:"1/1",sx:{borderRadius:1,width:80,height:80}})]})]}),(0,S.jsx)(C.A,{sx:[e=>({p:e.spacing(2.5,2.5,2,2.5)})],primary:`Posted date: ${(0,u.uK)(t.createdAt)}`,secondary:(0,S.jsx)(v.A,{component:c.W,href:r,color:"inherit",children:t.name}),slotProps:{primary:{sx:{typography:"caption",color:"text.disabled"}},secondary:{noWrap:!0,component:"h6",sx:{mt:1,color:"text.primary",typography:"subtitle1"}}}}),(0,S.jsxs)(o.A,{sx:[e=>({gap:1.5,display:"flex",position:"relative",flexDirection:"column",p:e.spacing(0,2.5,2.5,2.5)})],children:[(0,S.jsx)(k.A,{onClick:d.onOpen,sx:{position:"absolute",bottom:20,right:8},children:(0,S.jsx)(h.W,{icon:"eva:more-vertical-fill"})}),[{icon:(0,S.jsx)(h.W,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),label:t.destination},{icon:(0,S.jsx)(h.W,{icon:"solar:clock-circle-bold",sx:{color:"info.main"}}),label:(0,u.if)(t.available.startDate,t.available.endDate)},{icon:(0,S.jsx)(h.W,{icon:"solar:users-group-rounded-bold",sx:{color:"primary.main"}}),label:`${t.bookers.length} Booked`}].map((e=>(0,S.jsxs)(o.A,{sx:[{gap:.5,display:"flex",typography:"body2",alignItems:"center"}],children:[e.icon,e.label]},e.label)))]})]}),(0,S.jsx)(W.t,{open:d.open,anchorEl:d.anchorEl,onClose:d.onClose,slotProps:{arrow:{placement:"right-top"}},children:(0,S.jsxs)(y.A,{children:[(0,S.jsx)("li",{children:(0,S.jsxs)(A.A,{component:c.W,href:r,onClick:()=>d.onClose(),children:[(0,S.jsx)(h.W,{icon:"solar:eye-bold"}),"View"]})}),(0,S.jsx)("li",{children:(0,S.jsxs)(A.A,{component:c.W,href:s,onClick:()=>d.onClose(),children:[(0,S.jsx)(h.W,{icon:"solar:pen-bold"}),"Edit"]})}),(0,S.jsxs)(A.A,{onClick:()=>{d.onClose(),i()},sx:{color:"error.main"},children:[(0,S.jsx)(h.W,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function T(e){let{tours:t}=e;const s=(0,i.useCallback)((e=>{console.info("DELETE",e)}),[]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},children:t.map((e=>(0,S.jsx)(I,{tour:e,editHref:d.f.dashboard.tour.edit(e.id),detailsHref:d.f.dashboard.tour.details(e.id),onDelete:()=>s(e.id)},e.id)))}),t.length>8&&(0,S.jsx)(b.A,{count:8,sx:{mt:{xs:5,md:8},[`& .${f.A.ul}`]:{justifyContent:"center"}}})]})}function G(e){let{sort:t,onSort:s,sortOptions:r}=e;const i=(0,n.fP)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(l.A,{disableRipple:!0,color:"inherit",onClick:i.onOpen,endIcon:(0,S.jsx)(h.W,{icon:i.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",(0,S.jsx)(o.A,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),(0,S.jsx)(W.t,{open:i.open,anchorEl:i.anchorEl,onClose:i.onClose,children:(0,S.jsx)(y.A,{children:r.map((e=>(0,S.jsx)(A.A,{selected:e.value===t,onClick:()=>{i.onClose(),s(e.value)},children:e.label},e.value)))})})]})}var E=s(49898),P=s.n(E),z=s(90124),_=s.n(z),R=s(60587),O=s(42788),N=s(94496),F=s(55740),L=s(51787),B=s(32808),H=s(40668),$=s(8710),V=s(67132),M=s(91507);function U(e){let{redirectPath:t,sx:s}=e;const r=(0,V.rd)(),[o,a]=(0,i.useState)(""),[l,d]=(0,i.useState)(null),u=(0,n.d7)(o),{searchResults:x,searchLoading:m}=function(e){const[t,s]=(0,i.useState)([]),[r,n]=(0,i.useState)(!1),o=(0,i.useCallback)((async()=>{n(!0);try{await new Promise((e=>setTimeout(e,500)));const t=p.tS.filter((t=>{let{name:s,destination:r}=t;return[s,r].some((t=>null===t||void 0===t?void 0:t.toLowerCase().includes(e.toLowerCase())))}));s(t)}catch(t){console.error(t)}finally{n(!1)}}),[e]);return(0,i.useEffect)((()=>{e?o():s([])}),[o,e]),{searchResults:t,searchLoading:r}}(u),g=(0,i.useCallback)((e=>{d(e),e&&r.push(t(e.id))}),[r,t]),b=(0,B.Z)({matchFrom:"any",stringify:e=>`${e.name} ${e.destination}`}),f={width:320,[` .${H.A.listbox}`]:{[` .${H.A.option}`]:{p:0,[` .${F.A.root}`]:{p:.75,gap:1.5,width:1,display:"flex",alignItems:"center"}}}};return(0,S.jsx)($.A,{autoHighlight:!0,popupIcon:null,loading:m,options:x,value:l,filterOptions:b,onChange:(e,t)=>g(t),onInputChange:(e,t)=>a(t),getOptionLabel:e=>e.name,noOptionsText:(0,S.jsx)(M.c,{query:u}),isOptionEqualToValue:(e,t)=>e.id===t.id,slotProps:{paper:{sx:f}},sx:[{width:{xs:1,sm:260}},...Array.isArray(s)?s:[s]],renderInput:e=>(0,S.jsx)(O.A,{...e,placeholder:"Search...",slotProps:{input:{...e.InputProps,startAdornment:(0,S.jsx)(L.A,{position:"start",children:(0,S.jsx)(h.W,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:(0,S.jsxs)(S.Fragment,{children:[m?(0,S.jsx)(h.W,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,e.InputProps.endAdornment]})}}}),renderOption:(e,s,r)=>{let{inputValue:n}=r;const o=_()(s.name,n),a=P()(s.name,o);return(0,i.createElement)("li",{...e,key:s.id},(0,S.jsxs)(v.A,{component:c.W,href:t(s.id),color:"inherit",underline:"none",children:[(0,S.jsx)(R.A,{alt:s.name,src:s.images[0],variant:"rounded",sx:{width:48,height:48,flexShrink:0,borderRadius:1}},s.id),(0,S.jsx)("div",{children:a.map(((e,t)=>(0,S.jsx)(N.A,{component:"span",color:e.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:e.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:e.text},t)))},n)]}))}})}var q=s(26487),Z=s(29694),J=s(584),K=s(39336),Y=s(69392),Q=s(1273),X=s(81558),ee=s(99784),te=s(62025),se=s(10822);function re(e){let{open:t,onOpen:s,onClose:r,filters:n,options:d,canReset:c,dateError:u}=e;const{state:x,setState:p,resetState:m}=n,g=(0,i.useCallback)((e=>{const t=x.services.includes(e)?x.services.filter((t=>t!==e)):[...x.services,e];p({services:t})}),[p,x.services]),b=(0,i.useCallback)((e=>{p({startDate:e})}),[p]),f=(0,i.useCallback)((e=>{p({endDate:e})}),[p]),v=(0,i.useCallback)((e=>{p({destination:e})}),[p]),j=(0,i.useCallback)((e=>{p({tourGuides:e})}),[p]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(l.A,{disableRipple:!0,color:"inherit",endIcon:(0,S.jsx)(Z.A,{color:"error",variant:"dot",invisible:!c,children:(0,S.jsx)(h.W,{icon:"ic:round-filter-list"})}),onClick:s,children:"Filters"}),(0,S.jsxs)(J.Ay,{anchor:"right",open:t,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(o.A,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[(0,S.jsx)(N.A,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,S.jsx)(Y.A,{title:"Reset",children:(0,S.jsx)(k.A,{onClick:()=>m(),children:(0,S.jsx)(Z.A,{color:"error",variant:"dot",invisible:!c,children:(0,S.jsx)(h.W,{icon:"solar:restart-bold"})})})}),(0,S.jsx)(k.A,{onClick:r,children:(0,S.jsx)(h.W,{icon:"mingcute:close-line"})})]}),(0,S.jsx)(K.A,{sx:{borderStyle:"dashed"}})]}),(0,S.jsx)(te.Z,{sx:{px:2.5,py:3},children:(0,S.jsxs)(a.A,{spacing:3,children:[(0,S.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(N.A,{variant:"subtitle2",sx:{mb:1.5},children:"Durations"}),(0,S.jsx)(X.l,{label:"Start date",value:x.startDate,onChange:b,sx:{mb:2.5}}),(0,S.jsx)(X.l,{label:"End date",value:x.endDate,onChange:f,slotProps:{textField:{error:u,helperText:u?"End date must be later than start date":null}}})]}),(0,S.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(N.A,{variant:"subtitle2",sx:{mb:1.5},children:"Destination"}),(0,S.jsx)(se.b,{id:"multiple-destinations",multiple:!0,fullWidth:!0,placeholder:x.destination.length?"+ Destination":"Select Destination",value:x.destination,onChange:(e,t)=>v(t)})]}),(0,S.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(N.A,{variant:"subtitle2",sx:{mb:1.5},children:"Tour guide"}),(0,S.jsx)($.A,{multiple:!0,disableCloseOnSelect:!0,options:d.tourGuides,value:x.tourGuides,onChange:(e,t)=>j(t),getOptionLabel:e=>e.name,renderInput:e=>(0,S.jsx)(O.A,{placeholder:"Select Tour Guides",...e}),renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t.id},(0,S.jsx)(R.A,{alt:t.avatarUrl,src:t.avatarUrl,sx:{mr:1,width:24,height:24,flexShrink:0}},t.id),t.name),renderTags:(e,t)=>e.map(((e,s)=>(0,i.createElement)(q.A,{...t({index:s}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,S.jsx)(R.A,{alt:e.name,src:e.avatarUrl})})))})]}),(0,S.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,S.jsx)(N.A,{variant:"subtitle2",sx:{mb:1},children:"Services"}),d.services.map((e=>(0,S.jsx)(ee.A,{label:e,control:(0,S.jsx)(Q.A,{checked:x.services.includes(e),onClick:()=>g(e),inputProps:{id:`${e}-checkbox`}})},e)))]})]})})]})]})}var ie=s(11947);function ne(e){let{filters:t,totalResults:s,sx:r}=e;const{state:n,setState:o,resetState:a}=t,l=(0,i.useCallback)((e=>{const t=n.services.filter((t=>t!==e));o({services:t})}),[o,n.services]),d=(0,i.useCallback)((()=>{o({startDate:null,endDate:null})}),[o]),c=(0,i.useCallback)((e=>{const t=n.tourGuides.filter((t=>t.name!==e.name));o({tourGuides:t})}),[o,n.tourGuides]),x=(0,i.useCallback)((e=>{const t=n.destination.filter((t=>t!==e));o({destination:t})}),[o,n.destination]);return(0,S.jsxs)(ie.T7,{totalResults:s,onReset:()=>a(),sx:r,children:[(0,S.jsx)(ie.Hv,{label:"Available:",isShow:Boolean(n.startDate&&n.endDate),children:(0,S.jsx)(q.A,{...ie.NJ,label:(0,u.if)(n.startDate,n.endDate),onDelete:d})}),(0,S.jsx)(ie.Hv,{label:"Services:",isShow:!!n.services.length,children:n.services.map((e=>(0,i.createElement)(q.A,{...ie.NJ,key:e,label:e,onDelete:()=>l(e)})))}),(0,S.jsx)(ie.Hv,{label:"Tour guide:",isShow:!!n.tourGuides.length,children:n.tourGuides.map((e=>(0,i.createElement)(q.A,{...ie.NJ,key:e.id,avatar:(0,S.jsx)(R.A,{alt:e.name,src:e.avatarUrl}),label:e.name,onDelete:()=>c(e)})))}),(0,S.jsx)(ie.Hv,{label:"Destination:",isShow:!!n.destination.length,children:n.destination.map((e=>(0,i.createElement)(q.A,{...ie.NJ,key:e,label:e,onDelete:()=>x(e)})))})]})}function oe(){const e=(0,n.Cg)(),[t,s]=(0,i.useState)("latest"),b=(0,n.xI)({destination:[],tourGuides:[],services:[],startDate:null,endDate:null}),{state:f}=b,v=(0,u.xO)(f.startDate,f.endDate),j=function(e){let{inputData:t,filters:s,sortBy:i,dateError:n}=e;const{services:o,destination:a,startDate:l,endDate:d,tourGuides:c}=s,x=c.map((e=>e.id));"latest"===i&&(t=(0,r.M)(t,["createdAt"],["desc"]));"oldest"===i&&(t=(0,r.M)(t,["createdAt"],["asc"]));"popular"===i&&(t=(0,r.M)(t,["totalViews"],["desc"]));a.length&&(t=t.filter((e=>a.includes(e.destination))));x.length&&(t=t.filter((e=>e.tourGuides.some((e=>x.includes(e.id))))));o.length&&(t=t.filter((e=>e.services.some((e=>o.includes(e))))));n||l&&d&&(t=t.filter((e=>(0,u.bG)(l,e.available.startDate,e.available.endDate))));return t}({inputData:p.tS,filters:f,sortBy:t,dateError:v}),y=f.destination.length>0||f.tourGuides.length>0||f.services.length>0||!!f.startDate&&!!f.endDate,A=!j.length&&y,k=(0,i.useCallback)((e=>{s(e)}),[]);return(0,S.jsxs)(x.KG,{children:[(0,S.jsx)(g.g,{heading:"List",links:[{name:"Dashboard",href:d.f.dashboard.root},{name:"Tour",href:d.f.dashboard.tour.root},{name:"List"}],action:(0,S.jsx)(l.A,{component:c.W,href:d.f.dashboard.tour.new,variant:"contained",startIcon:(0,S.jsx)(h.W,{icon:"mingcute:add-line"}),children:"New Tour"}),sx:{mb:{xs:3,md:5}}}),(0,S.jsxs)(a.A,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[(0,S.jsxs)(o.A,{sx:{gap:3,display:"flex",justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},flexDirection:{xs:"column",sm:"row"}},children:[(0,S.jsx)(U,{redirectPath:e=>d.f.dashboard.tour.details(e)}),(0,S.jsxs)(o.A,{sx:{gap:1,flexShrink:0,display:"flex"},children:[(0,S.jsx)(re,{filters:b,canReset:y,dateError:v,open:e.value,onOpen:e.onTrue,onClose:e.onFalse,options:{tourGuides:p.Fo,services:p.un.map((e=>e.label))}}),(0,S.jsx)(G,{sort:t,onSort:k,sortOptions:p.Nq})]})]}),y&&(0,S.jsx)(ne,{filters:b,totalResults:j.length})]}),A&&(0,S.jsx)(m.H,{filled:!0,sx:{py:10}}),(0,S.jsx)(T,{tours:j})]})}var ae=s(97665),le=s(24858),de=s(91850),ce=s(19042),ue=s(79958),xe=s(38246),pe=s(32539),he=s(39417);const me=ae.z.object({name:ae.z.string().min(1,{message:"Name is required!"}),content:he.yf.editor().min(100,{message:"Content must be at least 100 characters"}).max(500,{message:"Content must be less than 500 characters"}),images:he.yf.files({message:"Images is required!"}),tourGuides:ae.z.array(ae.z.object({id:ae.z.string(),name:ae.z.string(),avatarUrl:ae.z.string(),phoneNumber:ae.z.string()})).min(1,{message:"Must have at least 1 guide!"}),available:ae.z.object({startDate:he.yf.date({message:{required:"Start date is required!"}}),endDate:he.yf.date({message:{required:"End date is required!"}})}),durations:ae.z.string().min(1,{message:"Durations is required!"}),destination:he.yf.nullableInput(ae.z.string().min(1,{message:"Destination is required!"}),{message:"Destination is required!"}),services:ae.z.string().array().min(2,{message:"Must have at least 2 items!"}),tags:ae.z.string().array().min(2,{message:"Must have at least 2 items!"})}).refine((e=>!(0,u.xO)(e.available.startDate,e.available.endDate)),{message:"End date cannot be earlier than start date!",path:["available.endDate"]});function ge(e){let{currentTour:t}=e;const s=(0,V.rd)(),r=(0,le.mN)({mode:"all",resolver:(0,de.u)(me),defaultValues:{name:"",content:"",images:[],tourGuides:[],available:{startDate:null,endDate:null},durations:"",destination:"",services:[],tags:[]},values:t}),{watch:n,reset:l,setValue:c,handleSubmit:u,formState:{isSubmitting:x}}=r,h=n(),m=u((async e=>{try{await new Promise((e=>setTimeout(e,500))),l(),pe.oR.success(t?"Update success!":"Create success!"),s.push(d.f.dashboard.tour.root),console.info("DATA",e)}catch(r){console.error(r)}})),g=(0,i.useCallback)((e=>{var t;const s=h.images&&(null===(t=h.images)||void 0===t?void 0:t.filter((t=>t!==e)));c("images",s,{shouldValidate:!0})}),[c,h.images]),b=(0,i.useCallback)((()=>{c("images",[],{shouldValidate:!0})}),[c]);return(0,S.jsx)(he.lV,{methods:r,onSubmit:m,children:(0,S.jsxs)(a.A,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[(0,S.jsxs)(j.A,{children:[(0,S.jsx)(ue.A,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),(0,S.jsx)(K.A,{}),(0,S.jsxs)(a.A,{spacing:3,sx:{p:3},children:[(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Name"}),(0,S.jsx)(he.D0.Text,{name:"name",placeholder:"Ex: Adventure Seekers Expedition..."})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Content"}),(0,S.jsx)(he.D0.Editor,{name:"content",sx:{maxHeight:480}})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Images"}),(0,S.jsx)(he.D0.Upload,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onRemove:g,onRemoveAll:b,onUpload:()=>console.info("ON UPLOAD")})]})]})]}),(0,S.jsxs)(j.A,{children:[(0,S.jsx)(ue.A,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),(0,S.jsx)(K.A,{}),(0,S.jsxs)(a.A,{spacing:3,sx:{p:3},children:[(0,S.jsxs)("div",{children:[(0,S.jsx)(N.A,{variant:"subtitle2",sx:{mb:1.5},children:"Tour guide"}),(0,S.jsx)(he.D0.Autocomplete,{multiple:!0,name:"tourGuides",placeholder:"+ Tour Guides",disableCloseOnSelect:!0,options:p.Fo,getOptionLabel:e=>e.name,isOptionEqualToValue:(e,t)=>e.id===t.id,renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t.id},(0,S.jsx)(R.A,{alt:t.avatarUrl,src:t.avatarUrl,sx:{mr:1,width:24,height:24,flexShrink:0}},t.id),t.name),renderTags:(e,t)=>e.map(((e,s)=>(0,i.createElement)(q.A,{...t({index:s}),key:e.id,size:"small",variant:"soft",label:e.name,avatar:(0,S.jsx)(R.A,{alt:e.name,src:e.avatarUrl})})))})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Available"}),(0,S.jsxs)(o.A,{sx:{gap:2,display:"flex",flexDirection:{xs:"column",md:"row"}},children:[(0,S.jsx)(he.D0.DatePicker,{name:"available.startDate",label:"Start date"}),(0,S.jsx)(he.D0.DatePicker,{name:"available.endDate",label:"End date"})]})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Duration"}),(0,S.jsx)(he.D0.Text,{name:"durations",placeholder:"Ex: 2 days, 4 days 3 nights..."})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Destination"}),(0,S.jsx)(he.D0.CountrySelect,{fullWidth:!0,name:"destination",placeholder:"+ Destination"})]}),(0,S.jsxs)(a.A,{spacing:1,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Services"}),(0,S.jsx)(he.D0.MultiCheckbox,{name:"services",options:p.un,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]}),(0,S.jsxs)(a.A,{spacing:1.5,children:[(0,S.jsx)(N.A,{variant:"subtitle2",children:"Tags"}),(0,S.jsx)(he.D0.Autocomplete,{name:"tags",placeholder:"+ Tags",multiple:!0,freeSolo:!0,disableCloseOnSelect:!0,options:p.JB.map((e=>e)),getOptionLabel:e=>e,renderOption:(e,t)=>(0,i.createElement)("li",{...e,key:t},t),renderTags:(e,t)=>e.map(((e,s)=>(0,i.createElement)(q.A,{...t({index:s}),key:e,label:e,size:"small",color:"info",variant:"soft"})))})]})]})]}),(0,S.jsxs)(o.A,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,S.jsx)(ee.A,{label:"Publish",control:(0,S.jsx)(ce.A,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),sx:{flexGrow:1,pl:3}}),(0,S.jsx)(xe.A,{type:"submit",variant:"contained",size:"large",loading:x,sx:{ml:2},children:t?"Save changes":"Create tour"})]})]})})}function be(e){let{tour:t}=e;return(0,S.jsxs)(x.KG,{children:[(0,S.jsx)(g.g,{heading:"Edit",backHref:d.f.dashboard.tour.root,links:[{name:"Dashboard",href:d.f.dashboard.root},{name:"Tour",href:d.f.dashboard.tour.root},{name:null===t||void 0===t?void 0:t.name}],sx:{mb:{xs:3,md:5}}}),(0,S.jsx)(ge,{currentTour:t})]})}function fe(){return(0,S.jsxs)(x.KG,{children:[(0,S.jsx)(g.g,{heading:"Create a new tour",links:[{name:"Dashboard",href:d.f.dashboard.root},{name:"Tour",href:d.f.dashboard.tour.root},{name:"New tour"}],sx:{mb:{xs:3,md:5}}}),(0,S.jsx)(ge,{})]})}var ve=s(40360),je=s(95609),ye=s(18388),Ae=s(1520),ke=s(57653);function Ce(e){let{tour:t}=e;const s=(null===t||void 0===t?void 0:t.images.map((e=>({src:e}))))||[],{selected:r,open:i,onOpen:n,onClose:a}=(0,ke.x)(s);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(o.A,{sx:{gap:1,display:"grid",mb:{xs:3,md:5},gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:[(0,S.jsx)(D._,{alt:s[0].src,src:s[0].src,ratio:"1/1",onClick:()=>n(s[0].src),sx:[e=>({borderRadius:2,cursor:"pointer",transition:e.transitions.create("opacity"),"&:hover":{opacity:.8}})]}),(0,S.jsx)(o.A,{sx:{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:s.slice(1,5).map((e=>(0,S.jsx)(D._,{alt:e.src,src:e.src,ratio:"1/1",onClick:()=>n(e.src),sx:[e=>({borderRadius:2,cursor:"pointer",transition:e.transitions.create("opacity"),"&:hover":{opacity:.8}})]},e.src)))})]}),(0,S.jsx)(ke.Y,{index:r,slides:s,open:i,close:a})]}),(0,S.jsxs)(o.A,{sx:{mx:"auto",maxWidth:720},children:[(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(o.A,{sx:{mb:3,display:"flex"},children:[(0,S.jsx)(N.A,{variant:"h4",sx:{flexGrow:1},children:null===t||void 0===t?void 0:t.name}),(0,S.jsx)(k.A,{children:(0,S.jsx)(h.W,{icon:"solar:share-bold"})}),(0,S.jsx)(Q.A,{defaultChecked:!0,color:"error",icon:(0,S.jsx)(h.W,{icon:"solar:heart-outline"}),checkedIcon:(0,S.jsx)(h.W,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}})]}),(0,S.jsxs)(o.A,{sx:{gap:3,display:"flex",flexWrap:"wrap",alignItems:"center"},children:[(0,S.jsxs)(o.A,{sx:{gap:.5,display:"flex",alignItems:"center",typography:"body2"},children:[(0,S.jsx)(h.W,{icon:"eva:star-fill",sx:{color:"warning.main"}}),(0,S.jsx)(o.A,{component:"span",sx:{typography:"subtitle2"},children:null===t||void 0===t?void 0:t.ratingNumber}),(0,S.jsx)(v.A,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),(0,S.jsxs)(o.A,{sx:{gap:.5,display:"flex",alignItems:"center",typography:"body2"},children:[(0,S.jsx)(h.W,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),null===t||void 0===t?void 0:t.destination]}),(0,S.jsxs)(o.A,{sx:{gap:.5,display:"flex",alignItems:"center",typography:"subtitle2"},children:[(0,S.jsx)(h.W,{icon:"solar:flag-bold",sx:{color:"info.main"}}),(0,S.jsx)(o.A,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),null===t||void 0===t?void 0:t.tourGuides.map((e=>e.name)).join(", ")]})]})]}),(0,S.jsx)(K.A,{sx:{borderStyle:"dashed",my:5}}),(0,S.jsx)(o.A,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:[{label:"Available",value:`${(0,u.ts)(null===t||void 0===t?void 0:t.available.startDate)} - ${(0,u.ts)(null===t||void 0===t?void 0:t.available.endDate)}`,icon:(0,S.jsx)(h.W,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:null===t||void 0===t?void 0:t.tourGuides.map((e=>e.phoneNumber)).join(", "),icon:(0,S.jsx)(h.W,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:null===t||void 0===t?void 0:t.durations,icon:(0,S.jsx)(h.W,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:null===t||void 0===t?void 0:t.tourGuides.map((e=>e.name)).join(", "),icon:(0,S.jsx)(h.W,{icon:"solar:phone-bold"})}].map((e=>(0,S.jsxs)(o.A,{sx:{gap:1.5,display:"flex"},children:[e.icon,(0,S.jsx)(C.A,{primary:e.label,secondary:e.value,slotProps:{primary:{sx:{typography:"body2",color:"text.secondary"}},secondary:{sx:{mt:.5,color:"text.primary",typography:"subtitle2"}}}})]},e.label)))}),(0,S.jsx)(K.A,{sx:{borderStyle:"dashed",mt:5,mb:2}}),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Ae.o,{children:null===t||void 0===t?void 0:t.content}),(0,S.jsxs)(o.A,{children:[(0,S.jsx)(N.A,{variant:"h6",sx:{mb:2},children:"Services"}),(0,S.jsx)(o.A,{sx:{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"}},children:p.un.map((e=>(0,S.jsxs)(o.A,{sx:{gap:1,display:"flex",alignItems:"center",...(null===t||void 0===t?void 0:t.services.includes(e.label))&&{color:"text.disabled"}},children:[(0,S.jsx)(h.W,{icon:"eva:checkmark-circle-2-outline",sx:{color:"primary.main",...(null===t||void 0===t?void 0:t.services.includes(e.label))&&{color:"text.disabled"}}}),e.label]},e.label)))})]})]})]})]})}var we=s(63789);function De(e){let{bookers:t,sx:s,...r}=e;const[n,a]=(0,i.useState)([]),l=(0,i.useCallback)((e=>{const t=n.includes(e)?n.filter((t=>t!==e)):[...n,e];a(t)}),[n]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(o.A,{sx:[{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"}},...Array.isArray(s)?s:[s]],...r,children:null===t||void 0===t?void 0:t.map((e=>(0,S.jsx)(We,{booker:e,selected:n.includes(e.id),onSelected:()=>l(e.id)},e.id)))}),(0,S.jsx)(b.A,{count:10,sx:{mt:{xs:5,md:8},mx:"auto"}})]})}function We(e){let{booker:t,selected:s,onSelected:r}=e;return(0,S.jsxs)(j.A,{sx:{p:3,gap:2,display:"flex"},children:[(0,S.jsx)(R.A,{alt:t.name,src:t.avatarUrl,sx:{width:48,height:48}}),(0,S.jsxs)(o.A,{sx:{minWidth:0,flex:"1 1 auto"},children:[(0,S.jsx)(C.A,{primary:t.name,secondary:(0,S.jsxs)(o.A,{sx:{gap:.5,display:"flex",alignItems:"center"},children:[(0,S.jsx)(h.W,{icon:"solar:users-group-rounded-bold",width:16}),t.guests," guests"]}),slotProps:{primary:{noWrap:!0},secondary:{sx:{mt:.5,typography:"caption",color:"text.disabled"}}}}),(0,S.jsxs)(o.A,{sx:{mt:2,gap:1,display:"flex"},children:[(0,S.jsx)(k.A,{size:"small",color:"error",sx:[e=>({borderRadius:1,bgcolor:(0,we.IG)(e.vars.palette.error.mainChannel,.08),"&:hover":{bgcolor:(0,we.IG)(e.vars.palette.error.mainChannel,.16)}})],children:(0,S.jsx)(h.W,{width:18,icon:"solar:phone-bold"})}),(0,S.jsx)(k.A,{size:"small",color:"info",sx:[e=>({borderRadius:1,bgcolor:(0,we.IG)(e.vars.palette.info.mainChannel,.08),"&:hover":{bgcolor:(0,we.IG)(e.vars.palette.info.mainChannel,.16)}})],children:(0,S.jsx)(h.W,{width:18,icon:"solar:chat-round-dots-bold"})}),(0,S.jsx)(k.A,{size:"small",color:"primary",sx:[e=>({borderRadius:1,bgcolor:(0,we.IG)(e.vars.palette.primary.mainChannel,.08),"&:hover":{bgcolor:(0,we.IG)(e.vars.palette.primary.mainChannel,.16)}})],children:(0,S.jsx)(h.W,{width:18,icon:"fluent:mail-24-filled"})})]})]}),(0,S.jsx)(l.A,{size:"small",variant:s?"text":"outlined",color:s?"success":"inherit",startIcon:s?(0,S.jsx)(h.W,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:r,children:s?"Approved":"Approve"})]},t.id)}function Se(e){let{sx:t,publish:s,backHref:r,editHref:i,liveHref:a,publishOptions:d,onChangePublish:u,...x}=e;const p=(0,n.fP)();return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(o.A,{sx:[{mb:2,gap:1.5,display:"flex"},...Array.isArray(t)?t:[t]],...x,children:[(0,S.jsx)(l.A,{component:c.W,href:r,startIcon:(0,S.jsx)(h.W,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),(0,S.jsx)(o.A,{sx:{flexGrow:1}}),"published"===s&&(0,S.jsx)(Y.A,{title:"Go Live",children:(0,S.jsx)(k.A,{component:c.W,href:a,children:(0,S.jsx)(h.W,{icon:"eva:external-link-fill"})})}),(0,S.jsx)(Y.A,{title:"Edit",children:(0,S.jsx)(k.A,{component:c.W,href:i,children:(0,S.jsx)(h.W,{icon:"solar:pen-bold"})})}),(0,S.jsx)(xe.A,{color:"inherit",variant:"contained",loading:!s,loadingIndicator:"Loading\u2026",endIcon:(0,S.jsx)(h.W,{icon:"eva:arrow-ios-downward-fill"}),onClick:p.onOpen,sx:{textTransform:"capitalize"},children:s})]}),(0,S.jsx)(W.t,{open:p.open,anchorEl:p.anchorEl,onClose:p.onClose,slotProps:{arrow:{placement:"top-right"}},children:(0,S.jsx)(y.A,{children:d.map((e=>(0,S.jsxs)(A.A,{selected:e.value===s,onClick:()=>{p.onClose(),u(e.value)},children:["published"===e.value&&(0,S.jsx)(h.W,{icon:"eva:cloud-upload-fill"}),"draft"===e.value&&(0,S.jsx)(h.W,{icon:"solar:file-text-bold"}),e.label]},e.value)))})})]})}function Ie(e){let{tour:t}=e;const[s,r]=(0,i.useState)(null===t||void 0===t?void 0:t.publish),o=(0,n.uc)("content"),a=(0,i.useCallback)((e=>{r(e)}),[]);return(0,S.jsxs)(x.KG,{children:[(0,S.jsx)(Se,{backHref:d.f.dashboard.tour.root,editHref:d.f.dashboard.tour.edit(`${null===t||void 0===t?void 0:t.id}`),liveHref:"#",publish:s||"",onChangePublish:a,publishOptions:p.Q0}),(0,S.jsx)(je.A,{value:o.value,onChange:o.onChange,sx:{mb:{xs:3,md:5}},children:p.D0.map((e=>(0,S.jsx)(ve.A,{iconPosition:"end",value:e.value,label:e.label,icon:"bookers"===e.value?(0,S.jsx)(ye.JU,{variant:"filled",children:null===t||void 0===t?void 0:t.bookers.length}):""},e.value)))}),"content"===o.value&&(0,S.jsx)(Ce,{tour:t}),"bookers"===o.value&&(0,S.jsx)(De,{bookers:null===t||void 0===t?void 0:t.bookers})]})}},38354:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var r=s(66734),i=s(70579);const n=(0,r.A)((0,i.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage")},67884:(e,t,s)=>{s.d(t,{A:()=>n});s(65043);var r=s(66734),i=s(70579);const n=(0,r.A)((0,i.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage")},91850:(e,t,s)=>{s.d(t,{u:()=>d});var r=s(24858);const i=(e,t,s)=>{if(e&&"reportValidity"in e){const i=(0,r.Jt)(s,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},n=(e,t)=>{for(const s in t.fields){const r=t.fields[s];r&&r.ref&&"reportValidity"in r.ref?i(r.ref,s,e):r.refs&&r.refs.forEach((t=>i(t,s,e)))}},o=(e,t)=>{t.shouldUseNativeValidation&&n(e,t);const s={};for(const i in e){const n=(0,r.Jt)(t.fields,i),o=Object.assign(e[i]||{},{ref:n&&n.ref});if(a(t.names||Object.keys(e),i)){const e=Object.assign({},(0,r.Jt)(s,i));(0,r.hZ)(e,"root",o),(0,r.hZ)(s,i,e)}else(0,r.hZ)(s,i,o)}return s},a=(e,t)=>e.some((e=>e.startsWith(t+".")));var l=function(e,t){for(var s={};e.length;){var i=e[0],n=i.code,o=i.message,a=i.path.join(".");if(!s[a])if("unionErrors"in i){var l=i.unionErrors[0].errors[0];s[a]={message:l.message,type:l.code}}else s[a]={message:o,type:n};if("unionErrors"in i&&i.unionErrors.forEach((function(t){return t.errors.forEach((function(t){return e.push(t)}))})),t){var d=s[a].types,c=d&&d[i.code];s[a]=(0,r.Gb)(a,t,s,n,c?[].concat(c,i.message):i.message)}e.shift()}return s},d=function(e,t,s){return void 0===s&&(s={}),function(r,i,a){try{return Promise.resolve(function(i,o){try{var l=Promise.resolve(e["sync"===s.mode?"parse":"parseAsync"](r,t)).then((function(e){return a.shouldUseNativeValidation&&n({},a),{errors:{},values:s.raw?r:e}}))}catch(d){return o(d)}return l&&l.then?l.then(void 0,o):l}(0,(function(e){if(function(e){return Array.isArray(null==e?void 0:e.errors)}(e))return{values:{},errors:o(l(e.errors,!a.shouldUseNativeValidation&&"all"===a.criteriaMode),a)};throw e})))}catch(d){return Promise.reject(d)}}}},78038:(e,t,s)=>{function r(e,t,s){return e<t?"asc"===s?-1:1:e>t?"asc"===s?1:-1:0}function i(e,t,s){return e.slice().sort(((e,i)=>{const n=s.length;for(let o=0;o<t.length;o++){const a=n>o?s[o]:s[n-1],l=t[o],d="function"===typeof l,c=r(d?l(e):e[l],d?l(i):i[l],a);if(0!==c)return c}return 0}))}s.d(t,{M:()=>i})}}]);
//# sourceMappingURL=3054.5144c03c.chunk.js.map