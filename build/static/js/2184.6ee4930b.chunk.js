"use strict";(self.webpackChunk_minimal_kit_cra_js=self.webpackChunk_minimal_kit_cra_js||[]).push([[2184],{48151:(e,t,n)=>{n.d(t,{sk:()=>h,qU:()=>g});var r=n(7445);const a={root:(0,r.L)("color__preview__root"),item:(0,r.L)("color__preview__item"),label:(0,r.L)("color__preview__label")},i={root:(0,r.L)("color__picker__root"),item:{root:(0,r.L)("color__picker__item__root"),container:(0,r.L)("color__picker__item__container"),icon:(0,r.L)("color__picker__item__icon")}};var o=n(65043),l=n(63789),s=n(47473),c=n(34535),d=n(39768),p=n(35151),u=n(70579);const h=(0,o.forwardRef)(((e,t)=>{const{sx:n,value:r,size:a=36,onChange:s,slotProps:c,className:d,options:p=[],limit:h="auto",variant:g="circular",...y}=e,b="string"===typeof r,j=(0,o.useCallback)((e=>{if(b)e!==r&&(null===s||void 0===s||s(e));else{const t=r,n=t.includes(e)?t.filter((t=>t!==e)):[...t,e];null===s||void 0===s||s(n)}}),[s,r,b]);return(0,u.jsx)(x,{ref:t,limit:h,className:(0,l.zP)([i.root,d]),sx:[{"--item-size":`${a}px`,"--item-radius":("circular"===g?"50%":"rounded"===g&&"calc(var(--item-size) / 6)")||"0px"},...Array.isArray(n)?n:[n]],...y,children:p.map((e=>{const t=b?r===e:r.includes(e);return(0,u.jsx)("li",{children:(0,u.jsx)(v,{"aria-label":e,onClick:()=>j(e),className:i.item.root,...null===c||void 0===c?void 0:c.item,children:(0,u.jsx)(f,{color:e,hasSelected:t,className:i.item.container,...null===c||void 0===c?void 0:c.itemContainer,children:(0,u.jsx)(m,{color:e,hasSelected:t,icon:"eva:checkmark-fill",className:i.item.icon,...null===c||void 0===c?void 0:c.icon})})})},e)}))})})),x=(0,c.Ay)("ul",{shouldForwardProp:e=>!["limit","sx"].includes(e)})((e=>{let{limit:t}=e;return{flexWrap:"wrap",flexDirection:"row",display:"inline-flex","& > li":{display:"inline-flex"},..."number"===typeof t&&{justifyContent:"flex-end",width:`calc(var(--item-size) * ${t})`}}})),v=(0,c.Ay)(s.A)((()=>({width:"var(--item-size)",height:"var(--item-size)",borderRadius:"var(--item-radius)"}))),f=(0,c.Ay)("span",{shouldForwardProp:e=>!["color","hasSelected","sx"].includes(e)})((e=>{let{color:t,theme:n}=e;return{alignItems:"center",display:"inline-flex",borderRadius:"inherit",justifyContent:"center",backgroundColor:t,width:"calc(var(--item-size) - 16px)",height:"calc(var(--item-size) - 16px)",border:`solid 1px ${(0,l.IG)(n.vars.palette.grey["500Channel"],.16)}`,transition:n.transitions.create(["all"],{duration:n.transitions.duration.shortest}),variants:[{props:{hasSelected:!0},style:{width:"calc(var(--item-size) - 8px)",height:"calc(var(--item-size) - 8px)",outline:`solid 2px ${(0,d.X4)(t,.08)}`,boxShadow:`4px 4px 8px 0 ${(0,d.X4)(t,.48)}`}}]}})),m=(0,c.Ay)(p.W,{shouldForwardProp:e=>!["color","hasSelected","sx"].includes(e)})((e=>{let{color:t,theme:n}=e;return{width:0,height:0,color:n.palette.getContrastText(t),transition:n.transitions.create(["all"],{duration:n.transitions.duration.shortest}),variants:[{props:{hasSelected:!0},style:{width:"calc(var(--item-size) / 2.4)",height:"calc(var(--item-size) / 2.4)"}}]}})),g=(0,o.forwardRef)(((e,t)=>{const{sx:n,colors:r,limit:i=3,size:o=16,gap:s=6,className:c,slotProps:d,...p}=e,h=r.slice(0,i),x=r.length-i;return(0,u.jsxs)(y,{ref:t,className:(0,l.zP)([a.root,c]),sx:n,...p,children:[h.map(((e,t)=>{var n,r,i,l;return(0,u.jsx)(b,{className:a.item,...null===d||void 0===d?void 0:d.item,sx:[{"--item-color":e,"--item-size":`${o}px`,"--item-gap":-s+"px"},...Array.isArray(null===d||void 0===d||null===(n=d.item)||void 0===n?void 0:n.sx)?null!==(r=null===(i=d.item)||void 0===i?void 0:i.sx)&&void 0!==r?r:[]:[null===d||void 0===d||null===(l=d.item)||void 0===l?void 0:l.sx]]},e+t)})),r.length>i&&(0,u.jsx)(j,{className:a.label,...null===d||void 0===d?void 0:d.label,children:`+${x}`})]})})),y=(0,c.Ay)("ul")((()=>({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end"}))),b=(0,c.Ay)("li")((e=>{let{theme:t}=e;return{borderRadius:"50%",width:"var(--item-size)",height:"var(--item-size)",marginLeft:"var(--item-gap)",backgroundColor:"var(--item-color)",border:`solid 2px ${t.vars.palette.background.paper}`,boxShadow:`inset -1px 1px 2px ${(0,l.IG)(t.vars.palette.common.blackChannel,.24)}`}})),j=(0,c.Ay)("li")((e=>{let{theme:t}=e;return{...t.typography.subtitle2}}))},11947:(e,t,n)=>{n.d(t,{Hv:()=>i,T7:()=>u,NJ:()=>p});var r=n(34535),a=n(70579);function i(e){let{label:t,children:n,isShow:r,sx:i,...c}=e;return r?(0,a.jsxs)(o,{sx:i,...c,children:[(0,a.jsx)(l,{children:t}),(0,a.jsx)(s,{children:n})]}):null}const o=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",overflow:"hidden",gap:t.spacing(1),padding:t.spacing(1),borderRadius:t.shape.borderRadius,border:`dashed 1px ${t.vars.palette.divider}`}})),l=(0,r.Ay)("span")((e=>{let{theme:t}=e;return{height:24,lineHeight:"24px",fontSize:t.typography.subtitle2.fontSize,fontWeight:t.typography.subtitle2.fontWeight}})),s=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",gap:t.spacing(1)}}));var c=n(72882),d=n(35151);const p={size:"small",variant:"soft"};function u(e){let{sx:t,onReset:n,children:r,totalResults:i,...o}=e;return(0,a.jsxs)(h,{sx:t,...o,children:[(0,a.jsxs)(x,{children:[(0,a.jsx)("strong",{children:i}),(0,a.jsx)("span",{children:" results found"})]}),(0,a.jsxs)(v,{children:[r,(0,a.jsx)(c.A,{color:"error",onClick:n,startIcon:(0,a.jsx)(d.W,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}const h=(0,r.Ay)("div")``,x=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{...t.typography.body2,marginBottom:t.spacing(1.5),"& span":{color:t.vars.palette.text.secondary}}})),v=(0,r.Ay)("div")((e=>{let{theme:t}=e;return{flexGrow:1,display:"flex",flexWrap:"wrap",alignItems:"center",gap:t.spacing(1)}}))},46723:(e,t,n)=>{n.r(t),n.d(t,{default:()=>fe});var r=n(49367),a=n(57058),i=n(27285),o=n(83806),l=n(34625),s=n(65043),c=n(3805),d=n(23541),p=n(7807),u=n(81772),h=n(7353),x=n(59314),v=n(72882),f=n(83462),m=n(26240),g=n(94496),y=n(26600),b=n(73705),j=n(91777),C=n(71531),k=n(27341),w=n(73715),A=n(54903);const D=!1,S=A.vZ.calendar,R={revalidateIfStale:D,revalidateOnFocus:D,revalidateOnReconnect:D};async function _(e){if(D){const t={eventData:e};await A.Ay.put(S,t)}(0,w.k)(S,(t=>{const n=(null===t||void 0===t?void 0:t.events).map((t=>t.id===e.id?{...t,...e}:t));return{...t,events:n}}),!1)}var z=n(35151),E=n(63789);const W=(0,n(34535).Ay)("div")((e=>{let{theme:t}=e;return{width:"calc(100% + 2px)",marginLeft:-1,marginBottom:-1,"& .fc":{"--fc-border-color":(0,E.IG)(t.vars.palette.grey["500Channel"],.16),"--fc-now-indicator-color":t.vars.palette.error.main,"--fc-today-bg-color":(0,E.IG)(t.vars.palette.grey["500Channel"],.08),"--fc-page-bg-color":t.vars.palette.background.default,"--fc-neutral-bg-color":t.vars.palette.background.neutral,"--fc-list-event-hover-bg-color":t.vars.palette.action.hover,"--fc-highlight-color":t.vars.palette.action.hover},"& .fc .fc-license-message":{display:"none"},"& .fc a":{color:t.vars.palette.text.primary},"& .fc .fc-col-header ":{boxShadow:`inset 0 -1px 0 ${t.vars.palette.divider}`,"& th":{borderColor:"transparent"},"& .fc-col-header-cell-cushion":{...t.typography.subtitle2,padding:"13px 0"}},"& .fc .fc-list-empty":{...t.typography.h6,backgroundColor:"transparent",color:t.vars.palette.text.secondary},"& .fc .fc-event":{borderColor:"transparent !important",backgroundColor:"transparent !important"},"& .fc .fc-event .fc-event-main":{padding:"2px 4px",borderRadius:6,backgroundColor:t.vars.palette.common.white,"&::before":{top:0,left:0,width:"100%",content:"''",opacity:.24,height:"100%",borderRadius:6,position:"absolute",backgroundColor:"currentColor",transition:t.transitions.create(["opacity"]),"&:hover":{"&::before":{opacity:.32}}}},"& .fc .fc-event .fc-event-main-frame":{fontSize:13,lineHeight:"20px",filter:"brightness(0.48)"},"& .fc .fc-daygrid-event .fc-event-title":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},"& .fc .fc-event .fc-event-time":{overflow:"unset",fontWeight:t.typography.fontWeightBold},"& .fc .fc-popover":{border:0,overflow:"hidden",boxShadow:t.vars.customShadows.dropdown,borderRadius:1.5*t.shape.borderRadius,backgroundColor:t.vars.palette.background.paper},"& .fc .fc-popover-header":{...t.typography.subtitle2,padding:t.spacing(1),backgroundColor:(0,E.IG)(t.vars.palette.grey["500Channel"],.08)},"& .fc .fc-popover-close":{opacity:.48,transition:t.transitions.create(["opacity"]),"&:hover":{opacity:1}},"& .fc .fc-more-popover .fc-popover-body":{padding:t.spacing(1)},"& .fc .fc-popover-body":{"& .fc-daygrid-event.fc-event-start, & .fc-daygrid-event.fc-event-end":{margin:"2px 0"}},"& .fc .fc-day-other .fc-daygrid-day-top":{opacity:1,"& .fc-daygrid-day-number":{color:t.vars.palette.text.disabled}},"& .fc .fc-daygrid-day-number":{...t.typography.body2,padding:t.spacing(1,1,0)},"& .fc .fc-daygrid-event":{marginTop:4},"& .fc .fc-daygrid-event.fc-event-start, & .fc .fc-daygrid-event.fc-event-end":{marginLeft:4,marginRight:4},"& .fc .fc-daygrid-more-link":{...t.typography.caption,color:t.vars.palette.text.secondary,"&:hover":{backgroundColor:"unset",textDecoration:"underline",color:t.vars.palette.text.primary,fontWeight:t.typography.fontWeightMedium}},"& .fc .fc-timegrid-axis-cushion":{...t.typography.body2,color:t.vars.palette.text.secondary},"& .fc .fc-timegrid-slot-label-cushion":{...t.typography.body2},"& .fc-direction-ltr .fc-list-day-text, .fc-direction-rtl .fc-list-day-side-text, .fc-direction-ltr .fc-list-day-side-text, .fc-direction-rtl .fc-list-day-text":{...t.typography.subtitle2},"& .fc .fc-list-event":{...t.typography.body2,"& .fc-list-event-time":{color:t.vars.palette.text.secondary}},"& .fc .fc-list-table":{"& th, td":{borderColor:"transparent"}}}}));var I=n(60446),F=n.n(I);var P=n(97665),T=n(91850),N=n(24858),$=n(88911),G=n(69392),O=n(71716),L=n(38246),V=n(92064),M=n(32539),H=n(62025),B=n(39417),U=n(48151),Z=n(70579);const q=P.z.object({title:P.z.string().min(1,{message:"Title is required!"}).max(100,{message:"Title must be less than 100 characters"}),description:P.z.string().min(1,{message:"Description is required!"}).min(50,{message:"Description must be at least 50 characters"}),color:P.z.string(),allDay:P.z.boolean(),start:P.z.union([P.z.string(),P.z.number()]),end:P.z.union([P.z.string(),P.z.number()])});function J(e){let{currentEvent:t,colorOptions:n,onClose:r}=e;const a=(0,N.mN)({mode:"all",resolver:(0,T.u)(q),defaultValues:t}),{reset:i,watch:o,control:l,handleSubmit:c,formState:{isSubmitting:d}}=a,p=o(),u=(0,b.xO)(p.start,p.end),x=c((async e=>{const n={id:null!==t&&void 0!==t&&t.id?null===t||void 0===t?void 0:t.id:(0,E.gZ)(),color:null===e||void 0===e?void 0:e.color,title:null===e||void 0===e?void 0:e.title,allDay:null===e||void 0===e?void 0:e.allDay,description:null===e||void 0===e?void 0:e.description,end:null===e||void 0===e?void 0:e.end,start:null===e||void 0===e?void 0:e.start};try{u||(null!==t&&void 0!==t&&t.id?(await _(n),M.oR.success("Update success!")):(await async function(e){if(D){const t={eventData:e};await A.Ay.post(S,t)}(0,w.k)(S,(t=>{const n=[...null===t||void 0===t?void 0:t.events,e];return{...t,events:n}}),!1)}(n),M.oR.success("Create success!")),r(),i())}catch(a){console.error(a)}})),f=(0,s.useCallback)((async()=>{try{await async function(e){if(D){const t={eventId:e};await A.Ay.patch(S,t)}(0,w.k)(S,(t=>{const n=(null===t||void 0===t?void 0:t.events).filter((t=>t.id!==e));return{...t,events:n}}),!1)}(`${null===t||void 0===t?void 0:t.id}`),M.oR.success("Delete success!"),r()}catch(e){console.error(e)}}),[null===t||void 0===t?void 0:t.id,r]);return(0,Z.jsxs)(B.lV,{methods:a,onSubmit:x,children:[(0,Z.jsx)(H.Z,{sx:{p:3,bgcolor:"background.neutral"},children:(0,Z.jsxs)($.A,{spacing:3,children:[(0,Z.jsx)(B.D0.Text,{name:"title",label:"Title"}),(0,Z.jsx)(B.D0.Text,{name:"description",label:"Description",multiline:!0,rows:3}),(0,Z.jsx)(B.D0.Switch,{name:"allDay",label:"All day"}),(0,Z.jsx)(B.D0.MobileDateTimePicker,{name:"start",label:"Start date"}),(0,Z.jsx)(B.D0.MobileDateTimePicker,{name:"end",label:"End date",slotProps:{textField:{error:u,helperText:u?"End date must be later than start date":null}}}),(0,Z.jsx)(N.xI,{name:"color",control:l,render:e=>{let{field:t}=e;return(0,Z.jsx)(U.sk,{value:t.value,onChange:e=>t.onChange(e),options:n})}})]})}),(0,Z.jsxs)(V.A,{sx:{flexShrink:0},children:[!(null===t||void 0===t||!t.id)&&(0,Z.jsx)(G.A,{title:"Delete event",children:(0,Z.jsx)(O.A,{onClick:f,children:(0,Z.jsx)(z.W,{icon:"solar:trash-bin-trash-bold"})})}),(0,Z.jsx)(h.A,{sx:{flexGrow:1}}),(0,Z.jsx)(v.A,{variant:"outlined",color:"inherit",onClick:r,children:"Cancel"}),(0,Z.jsx)(L.A,{type:"submit",variant:"contained",loading:d,disabled:u,children:"Save changes"})]})]})}var K=n(85442);var X=n(29694),Q=n(30922),Y=n(94814),ee=n(36930),te=n(50031);const ne=[{value:"dayGridMonth",label:"Month",icon:"mingcute:calendar-month-line"},{value:"timeGridWeek",label:"Week",icon:"mingcute:calendar-week-line"},{value:"timeGridDay",label:"Day",icon:"mingcute:calendar-day-line"},{value:"listWeek",label:"Agenda",icon:"fluent:calendar-agenda-24-regular"}];function re(e){let{date:t,view:n,loading:r,onToday:a,canReset:i,onNextDate:o,onPrevDate:l,onChangeView:s,onOpenFilters:c}=e;const d=(0,u.fP)(),p=ne.filter((e=>e.value===n))[0];return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.A,{sx:{p:2.5,pr:2,display:"flex",position:"relative",alignItems:"center",justifyContent:"space-between"},children:[(0,Z.jsx)(v.A,{size:"small",color:"inherit",onClick:d.onOpen,startIcon:(0,Z.jsx)(z.W,{icon:p.icon}),endIcon:(0,Z.jsx)(z.W,{icon:"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),sx:{display:{xs:"none",sm:"inline-flex"}},children:p.label}),(0,Z.jsxs)(h.A,{sx:{gap:1,display:"flex",alignItems:"center"},children:[(0,Z.jsx)(O.A,{onClick:l,children:(0,Z.jsx)(z.W,{icon:"eva:arrow-ios-back-fill"})}),(0,Z.jsx)(g.A,{variant:"h6",children:t}),(0,Z.jsx)(O.A,{onClick:o,children:(0,Z.jsx)(z.W,{icon:"eva:arrow-ios-forward-fill"})})]}),(0,Z.jsxs)(h.A,{sx:{gap:1,display:"flex",alignItems:"center"},children:[(0,Z.jsx)(v.A,{size:"small",color:"error",variant:"contained",onClick:a,children:"Today"}),(0,Z.jsx)(O.A,{onClick:c,children:(0,Z.jsx)(X.A,{color:"error",variant:"dot",invisible:!i,children:(0,Z.jsx)(z.W,{icon:"ic:round-filter-list"})})})]}),r&&(0,Z.jsx)(ee.A,{color:"inherit",sx:{left:0,width:1,height:2,bottom:0,borderRadius:0,position:"absolute"}})]}),(0,Z.jsx)(te.t,{open:d.open,anchorEl:d.anchorEl,onClose:d.onClose,slotProps:{arrow:{placement:"top-left"}},children:(0,Z.jsx)(Q.A,{children:ne.map((e=>(0,Z.jsxs)(Y.A,{selected:e.value===n,onClick:()=>{d.onClose(),s(e.value)},children:[(0,Z.jsx)(z.W,{icon:e.icon}),e.label]},e.value)))})})]})}var ae=n(78038),ie=n(584),oe=n(39336),le=n(48734),se=n(38968),ce=n(81558);function de(e){let{open:t,events:n,onClose:r,filters:a,canReset:i,dateError:o,colorOptions:l,onClickEvent:c}=e;const{state:d,setState:p,resetState:u}=a,x=(0,s.useCallback)((e=>{p({colors:e})}),[p]),v=(0,s.useCallback)((e=>{p({startDate:e})}),[p]),f=(0,s.useCallback)((e=>{p({endDate:e})}),[p]);return(0,Z.jsxs)(ie.Ay,{anchor:"right",open:t,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(h.A,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[(0,Z.jsx)(g.A,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),(0,Z.jsx)(G.A,{title:"Reset",children:(0,Z.jsx)(O.A,{onClick:()=>u(),children:(0,Z.jsx)(X.A,{color:"error",variant:"dot",invisible:!i,children:(0,Z.jsx)(z.W,{icon:"solar:restart-bold"})})})}),(0,Z.jsx)(O.A,{onClick:r,children:(0,Z.jsx)(z.W,{icon:"mingcute:close-line"})})]}),(0,Z.jsx)(oe.A,{sx:{borderStyle:"dashed"}})]}),(0,Z.jsxs)(H.Z,{children:[(0,Z.jsxs)(h.A,{sx:{my:3,px:2.5,display:"flex",flexDirection:"column"},children:[(0,Z.jsx)(g.A,{variant:"subtitle2",sx:{mb:1},children:"Colors"}),(0,Z.jsx)(U.sk,{options:l,value:d.colors,onChange:x})]}),(0,Z.jsxs)(h.A,{sx:{mb:3,px:2.5,display:"flex",flexDirection:"column"},children:[(0,Z.jsx)(g.A,{variant:"subtitle2",sx:{mb:1.5},children:"Range"}),(0,Z.jsx)(ce.l,{label:"Start date",value:d.startDate,onChange:v,sx:{mb:2.5}}),(0,Z.jsx)(ce.l,{label:"End date",value:d.endDate,onChange:f,slotProps:{textField:{error:o,helperText:o?"End date must be later than start date":null}}})]}),(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(g.A,{variant:"subtitle2",sx:{px:2.5,mb:1},children:["Events (",n.length,")"]}),(0,Z.jsx)(h.A,{component:"ul",children:(0,ae.M)(n,["end"],["desc"]).map((e=>(0,Z.jsx)("li",{children:(0,Z.jsxs)(se.A,{onClick:()=>c(`${e.id}`),sx:[e=>({py:1.5,borderBottom:`dashed 1px ${e.vars.palette.divider}`})],children:[(0,Z.jsx)(h.A,{sx:{top:16,left:0,width:0,height:0,position:"absolute",borderRight:"10px solid transparent",borderTop:`10px solid ${e.color}`}}),(0,Z.jsx)(le.A,{primary:e.allDay?(0,b.ts)(e.start):`${(0,b.uK)(e.start)} - ${(0,b.uK)(e.end)}`,secondary:e.title,slotProps:{primary:{sx:{typography:"caption",color:"text.disabled"}},secondary:{sx:{mt:.5,color:"text.primary",typography:"subtitle2"}}}})]})},e.id)))})]})]})]})}var pe=n(26487),ue=n(11947);function he(e){let{filters:t,totalResults:n,sx:r}=e;const{state:a,setState:i,resetState:o}=t,l=(0,s.useCallback)((e=>{const t=a.colors.filter((t=>t!==e));i({colors:t})}),[i,a.colors]),c=(0,s.useCallback)((()=>{i({startDate:null,endDate:null})}),[i]);return(0,Z.jsxs)(ue.T7,{totalResults:n,onReset:()=>o(),sx:r,children:[(0,Z.jsx)(ue.Hv,{label:"Colors:",isShow:!!a.colors.length,children:a.colors.map((e=>(0,s.createElement)(pe.A,{...ue.NJ,key:e,label:(0,Z.jsx)(h.A,{sx:[t=>({ml:-.5,width:18,height:18,bgcolor:e,borderRadius:"50%",border:`solid 1px ${(0,E.IG)(t.vars.palette.common.whiteChannel,.24)}`})]}),onDelete:()=>l(e)})))}),(0,Z.jsx)(ue.Hv,{label:"Date:",isShow:Boolean(a.startDate&&a.endDate),children:(0,Z.jsx)(pe.A,{...ue.NJ,label:(0,b.if)(a.startDate,a.endDate),onDelete:c})})]})}function xe(){const e=(0,m.A)(),t=(0,u.Cg)(),{events:n,eventsLoading:r}=function(){const{data:e,isLoading:t,error:n,isValidating:r}=(0,k.Ay)(S,A.GO,R);return(0,s.useMemo)((()=>({events:(null===e||void 0===e?void 0:e.events.map((e=>({...e,textColor:e.color}))))||[],eventsLoading:t,eventsError:n,eventsValidating:r,eventsEmpty:!t&&!r&&!(null!==e&&void 0!==e&&e.events.length)})),[null===e||void 0===e?void 0:e.events,n,t,r])}(),a=(0,u.xI)({colors:[],startDate:null,endDate:null}),{state:w}=a,D=(0,b.xO)(w.startDate,w.endDate),{calendarRef:E,view:I,date:P,onDatePrev:T,onDateNext:N,onDateToday:$,onDropEvent:G,onChangeView:O,onSelectRange:L,onClickEvent:V,onResizeEvent:M,onInitialView:H,openForm:B,onOpenForm:U,onCloseForm:q,selectEventId:X,selectedRange:Q,onClickEventInFilters:Y}=function(){const e=(0,s.useRef)(null),t=e.current,n=(0,m.A)(),r=(0,K.A)(n.breakpoints.up("sm")),[a,i]=(0,s.useState)(new Date),[o,l]=(0,s.useState)(!1),[c,d]=(0,s.useState)(""),[p,u]=(0,s.useState)(null),[h,x]=(0,s.useState)(r?"dayGridMonth":"listWeek"),v=(0,s.useCallback)((()=>{l(!0)}),[]),f=(0,s.useCallback)((()=>{l(!1),u(null),d("")}),[]),g=(0,s.useCallback)((()=>{if(t){const e=t.getApi(),n=r?"dayGridMonth":"listWeek";e.changeView(n),x(n)}}),[t,r]),y=(0,s.useCallback)((e=>{t&&(t.getApi().changeView(e),x(e))}),[t]),b=(0,s.useCallback)((()=>{if(t){const e=t.getApi();e.today(),i(e.getDate())}}),[t]),j=(0,s.useCallback)((()=>{if(t){const e=t.getApi();e.prev(),i(e.getDate())}}),[t]),C=(0,s.useCallback)((()=>{if(t){const e=t.getApi();e.next(),i(e.getDate())}}),[t]),k=(0,s.useCallback)((e=>{t&&t.getApi().unselect(),v(),u({start:e.startStr,end:e.endStr})}),[t,v]),w=(0,s.useCallback)((e=>{const{event:t}=e;v(),d(t.id)}),[v]),A=(0,s.useCallback)(((e,t)=>{const{event:n}=e;t({id:n.id,allDay:n.allDay,start:n.startStr,end:n.endStr})}),[]),D=(0,s.useCallback)(((e,t)=>{const{event:n}=e;t({id:n.id,allDay:n.allDay,start:n.startStr,end:n.endStr})}),[]),S=(0,s.useCallback)((e=>{e&&(v(),d(e))}),[v]);return{calendarRef:e,view:h,date:a,onDatePrev:j,onDateNext:C,onDateToday:b,onDropEvent:D,onClickEvent:w,onChangeView:y,onSelectRange:k,onResizeEvent:A,onInitialView:g,openForm:o,onOpenForm:v,onCloseForm:f,selectEventId:c,selectedRange:p,onClickEventInFilters:S}}(),ee=function(e,t,n,r){const a=e.find((e=>e.id===t)),i=(0,s.useMemo)((()=>({id:"",title:"",description:"",color:C.U[1],allDay:!1,start:n?n.start:F()(new Date).format(),end:n?n.end:F()(new Date).format()})),[n]);if(r)return a||n?{...i,...a}:i}(n,X,Q,B);(0,s.useEffect)((()=>{H()}),[H]);const te=w.colors.length>0||!!w.startDate&&!!w.endDate,ne=function(e){let{inputData:t,filters:n,dateError:r}=e;const{colors:a,startDate:i,endDate:o}=n,l=t.map(((e,t)=>[e,t]));t=l.map((e=>e[0])),a.length&&(t=t.filter((e=>a.includes(e.color))));r||i&&o&&(t=t.filter((e=>(0,b.bG)(e.start,i,o))));return t}({inputData:n,filters:w,dateError:D}),ae={flex:"1 1 auto",display:"flex",flexDirection:"column"};return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)(j.KG,{maxWidth:"xl",sx:{...ae},children:[(0,Z.jsxs)(h.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:{xs:3,md:5}},children:[(0,Z.jsx)(g.A,{variant:"h4",children:"Calendar"}),(0,Z.jsx)(v.A,{variant:"contained",startIcon:(0,Z.jsx)(z.W,{icon:"mingcute:add-line"}),onClick:U,children:"New event"})]}),te&&(0,Z.jsx)(he,{filters:a,totalResults:ne.length,sx:{mb:{xs:3,md:5}}}),(0,Z.jsx)(x.A,{sx:{...ae,minHeight:"50vh"},children:(0,Z.jsxs)(W,{sx:{...ae,".fc.fc-media-screen":{flex:"1 1 auto"}},children:[(0,Z.jsx)(re,{date:(0,b.ts)(P),view:I,canReset:te,loading:r,onNextDate:N,onPrevDate:T,onToday:$,onChangeView:O,onOpenFilters:t.onTrue}),(0,Z.jsx)(i.A,{weekends:!0,editable:!0,droppable:!0,selectable:!0,rerenderDelay:10,allDayMaintainDuration:!0,eventResizableFromStart:!0,ref:E,initialDate:P,initialView:I,dayMaxEventRows:3,eventDisplay:"block",events:ne,headerToolbar:!1,select:L,eventClick:V,aspectRatio:3,eventDrop:e=>{(0,s.startTransition)((()=>{G(e,_)}))},eventResize:e=>{(0,s.startTransition)((()=>{M(e,_)}))},plugins:[o.A,l.A,d.A,c.A,p.Ay]})]})})]}),(0,Z.jsxs)(f.A,{fullWidth:!0,maxWidth:"xs",open:B,onClose:q,transitionDuration:{enter:e.transitions.duration.shortest,exit:e.transitions.duration.shortest-80},PaperProps:{sx:{display:"flex",overflow:"hidden",flexDirection:"column","& form":{...ae,minHeight:0}}},children:[(0,Z.jsx)(y.A,{sx:{minHeight:76},children:B&&(0,Z.jsxs)(Z.Fragment,{children:[" ",null!==ee&&void 0!==ee&&ee.id?"Edit":"Add"," event"]})}),(0,Z.jsx)(J,{currentEvent:ee,colorOptions:C.U,onClose:q})]}),(0,Z.jsx)(de,{events:n,filters:a,canReset:te,dateError:D,open:t.value,onClose:t.onFalse,onClickEvent:Y,colorOptions:C.U})]})}const ve={title:`Calendar | Dashboard - ${a.P.appName}`};function fe(){return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(r.mg,{children:(0,Z.jsxs)("title",{children:[" ",ve.title]})}),(0,Z.jsx)(xe,{})]})}}}]);
//# sourceMappingURL=2184.6ee4930b.chunk.js.map